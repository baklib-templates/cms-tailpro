{%  assign pages =  page.children_in_list %}

{% render 'hero/hero_title', item: page %}

<!-- 产品列表 -->
<section class="bg-white py-4">
    <div class="container mx-auto max-w-6xl px-4">
        <!-- Cards Container -->
        {% paginate_tag pages, per: 12 %}
            <div class="grid grid-cols-1 gap-4 md:gap-8 sm:grid-cols-3 mt-4">
                {% for item in pages %}
                    <!-- Card product -->
                    <article class="flex flex-col border rounded-xl my-4">
                        <div class="relative w-full flex flex-col items-center justify-center">
                            {% if item.settings.youtube_id %}
                                {% render 'play_youtube_video', item: item %}
                            {% else %}
                                <!-- 1. Video thumbnail -->
                                <a class="relative flex justify-center items-center focus:outline-none focus-visible:ring focus-visible:ring-indigo-300 rounded-3xl group"
                                    href="{{ item.path }}" aria-label="Watch the video"
                                >
                                    <img src="{{ item.settings.thumb_image_url | default: site.settings.default_page_thumb_url }}" alt="{{ item.link_text }}" class="aspect-[16/9] mx-auto max-h-screen rounded-xl bg-gray-100 object-cover">
                                    {% comment %} <img class="rounded-3xl shadow-2xl transition-shadow duration-300 ease-in-out" src="./video-modal-thumb.jpg" width="768" height="432" alt="Modal video thumbnail" /> {% endcomment %}
                                    <!-- Play icon -->
                                    <svg class="absolute pointer-events-none group-hover:scale-110 transition-transform duration-300 ease-in-out" xmlns="http://www.w3.org/2000/svg" width="72" height="72" viewBox="0 0 72 72">
                                        <circle class="fill-white" cx="36" cy="36" r="36" fill-opacity=".8" />
                                        <path class="fill-primary drop-shadow-2xl" d="M44 36a.999.999 0 0 0-.427-.82l-10-7A1 1 0 0 0 32 29V43a.999.999 0 0 0 1.573.82l10-7A.995.995 0 0 0 44 36V36c0 .001 0 .001 0 0Z" />
                                    </svg>
                                </a>
                                <!-- End: Video thumbnail -->
                            {% endif %}
                        </div>
                        <div class="w-full px-2">
                            <div class="group relative">
                                <a href="{{ item.path }}" class="mt-2 line-clamp-2 text-md leading-6 group-hover:text-gray-600">
                                    {{ item.settings.title }}
                                </a>
                            </div>
                            <div class="text-sm text-gray-600 my-2">
                                {{ item.settings.description }}
                            </div>
                        </div>
                    </article>
                {% endfor %}
            </div>
            <!-- Pagination -->
            <div class="w-full flex justify-center mt-12">
                {% render 'paginate', paginate: paginate %}
            </div>
        {% endpaginate_tag %}
        {%# 分页 %}
    </div>
</section>


{% schema %}
{
    "name": "栏目-视频资源列表",
    "description": "Videos视频列表",
    "thumb_url": "images/theme/channel-videos.webp",
    "preview_image_urls": [
        "images/theme/channel-videos.webp"
    ],
    "sub_page_templates": ["page.video"],
    "settings": [
        {
            "id": "title",
            "type": "text",
            "label": "标题"
        },
        {
            "id": "description",
            "type": "textarea",
            "label": "摘要"
        },
        {
            "id": "thumb_image_url",
            "type": "image_picker",
            "ratio": "6:2",
            "width": 400,
            "label": "背景封面图"
        }
    ]
}
{% endschema%}
