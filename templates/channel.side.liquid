
{% assign pages = page.children_in_list %}
{% assign first_child_page = pages | first %}

<!-- Start Hero -->
{% render 'hero/hero_title', item: page %}

<!--内容版块 -->
<main class="bg-gray-100  py-6 md:py-12">
  <section class="container mx-auto max-w-6xl relative px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
          <div class="md:col-span-1 bg-white p-4 md:sticky md:top-24 md:h-fit rounded-md shadow-sm dark:shadow-gray-700">
              <div class="flex flex-col space-y-3">
                  {% for item in pages %}
                      <a class="{% if first_child_page.id == item.id  %} bg-primary text-white {% endif %} hover:bg-primary px-4 py-3 text-lg border-b border-gray-400" href="{{ item.path }}">{{ item.link_text }}</a>
                  {% endfor %}
              </div>
          </div>
          <div class="md:col-span-3 bg-white p-4">
              <div class="ProseMirror max-w-full overflow-x-auto">
                {{ first_child_page.settings.content }}
              </div>
          </div>
      </div>
  </section>
</main>

{% schema %}
  {
    "name": "栏目-Side侧边栏列表",
    "description": "Channel带侧边栏设计的文章列表",
    "thumb_url": "images/theme/channel-side.webp",
    "preview_image_urls": [
      "images/theme/channel-side.webp"
    ],
    "sub_page_templates": ["page.side"],
    "settings": [
      {
        "id": "title",
        "type": "text",
        "label": "标题"
      },
      {
        "id": "description",
        "type": "textarea",
        "label": "摘要"
      },
      {
          "id": "thumb_image_url",
          "type": "image_picker",
          "ratio": "6:2",
          "width": 400,
          "label": "背景封面图"
      }
    ]
  }
{% endschema%}
